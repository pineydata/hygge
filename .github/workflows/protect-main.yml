name: Protect Main Branch
on:
  push:
    branches: [main]

jobs:
  protect:
    runs-on: ubuntu-latest
    steps:
      - name: Block direct pushes to main
        run: |
          echo "ğŸš« DIRECT PUSH TO MAIN BLOCKED"
          echo ""
          echo "âŒ You cannot push directly to the main branch!"
          echo ""
          echo "âœ… Please use this workflow instead:"
          echo "   1. Create a feature branch: git checkout -b feature/your-feature"
          echo "   2. Make your changes and commit"
          echo "   3. Push feature branch: git push origin feature/your-feature"
          echo "   4. Create a Pull Request on GitHub"
          echo "   5. Get code review and merge via PR"
          echo ""
          echo "ğŸ”’ This protects main from accidental commits and ensures code review."
          echo "ğŸ“ User: ${{ github.actor }}"
          echo "ğŸ• Time: $(date)"
          exit 1
